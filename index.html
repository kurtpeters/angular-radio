<!DOCTYPE html>

<html ng-app="app">

  <head>

    <title>ngRadio</title>

    <script src="node_modules/angular/angular.js"></script>
    <script src="src/angular-radio.js"></script>
    <script>

      angular.module('app', ['ngRadio'])

      .config(function($radioProvider, $radioChannelProvider) {

        var anotherChanel = $radioChannelProvider.$new(),
            channel = $radioProvider.channel('config');

        $radioChannelProvider.on('channel:provider', function(msg) {
          anotherChanel.trigger('test', msg);
        });

        anotherChanel.on('test', function(msg) {
          $radioChannelProvider.trigger('channel:provider:2', msg);
        });

        channel.listenTo('controller', 'remote:trigger', function() {
          console.log('from another scope not yet created');
        })

        $radioProvider.on('run', function() {
          channel.trigger('alert', 'IT HAS BEGUN!');
          $radioProvider.triggerChannel('controller', 'remote:trigger', 'FIN');
        });
      })

      .controller('AppController', function($radio, $radioChannel) {

        var channel = $radio.channel('controller');

        channel.listenTo('config', 'alert', function(msg) {
          console.log(msg);
        });

        channel.on('remote:trigger', function(msg) {
          console.log(msg);
        });

        $radioChannel.on('channel:provider:2', function(msg) {
          console.log(msg);
        });

        $radio.trigger('run');
        $radioChannel.trigger('channel:provider', 'app start');
      });

    </script>

  </head>

  <body ng-controller="AppController">

  </body>

</html>